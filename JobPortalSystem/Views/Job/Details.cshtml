@model JobPortalSystem.Models.Job

@{
    ViewData["Title"] = "Job Details";
}

<div class="container my-5">
    <div class="card shadow-sm p-4">
        <h2 class="text-primary mb-3">@Model.Title</h2>

        <p><strong>Location:</strong> @Model.Location</p>
        <p><strong>Salary:</strong> @Model.Salary.ToString("C0")</p>
        <p><strong>Experience:</strong> @Model.Experience</p>
        <p><strong>Category:</strong> @Model.Category?.Name</p>
        <p><strong>Posted Date:</strong> @Model.PostedDate.ToString("yyyy-MM-dd")</p>
        <p><strong>Expiry Date:</strong> @Model.ExpiryDate.ToString("yyyy-MM-dd")</p>

        <hr />
        <h5>Description:</h5>
        <p>@Model.Description</p>

        <h5>Requirements:</h5>
        @if (!string.IsNullOrWhiteSpace(Model.Requirements))
        {
            <ul>
                @foreach (var req in Model.Requirements.Split(',', StringSplitOptions.RemoveEmptyEntries))
                {
                    <li>@req.Trim()</li>
                }
            </ul>
        }
        else
        {
            <p class="text-muted fst-italic">No specific requirements</p>
        }

        <hr />
        @if (User.IsInRole("JobSeeker") || User.IsInRole("job Seeker") || User.IsInRole("JOB SEEKER"))
        {
            <a asp-controller="JobApplication"
               asp-action="Apply"
               asp-route-jobId="@Model.Id"
               class="btn btn-success">
                Apply Now
            </a>
        }

        <a asp-action="GetAll" class="btn btn-secondary ms-2">Back to List</a>
    </div>
</div>
